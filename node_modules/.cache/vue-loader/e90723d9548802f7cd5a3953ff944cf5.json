{"remainingRequest":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/src/views/hr/approval/ExecutiveDocumentApproval.vue?vue&type=style&index=0&id=6587ad95&lang=css","dependencies":[{"path":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/src/views/hr/approval/ExecutiveDocumentApproval.vue","mtime":1653031113563},{"path":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/node_modules/css-loader/dist/cjs.js","mtime":1652081429906},{"path":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1652081430080},{"path":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/node_modules/postcss-loader/src/index.js","mtime":1652081430025},{"path":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/node_modules/cache-loader/dist/cjs.js","mtime":1652081426314},{"path":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/node_modules/vue-loader-v16/dist/index.js","mtime":1652081430080}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgLmRpdkJveHsKICAgIHdpZHRoOiA1MDBweDsKICAgIGhlaWdodDogYXV0bzsKICAgIGJveC1zaGFkb3c6IHJnYmEoMCwwLDAsMC4zKSAwcHggNHB4IDIwcHggMHB4OwogICAgYm9yZGVyLXJhZGl1czogMTVweDsKICAgIG1hcmdpbjogYXV0bwogIH0K"},{"version":3,"sources":["/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/src/views/hr/approval/ExecutiveDocumentApproval.vue"],"names":[],"mappings":";EA2IE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC5C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACb","file":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/src/views/hr/approval/ExecutiveDocumentApproval.vue","sourceRoot":"","sourcesContent":["<template >\n  <div style=\"width:1050px; height: auto; margin: 10% auto; display:flex\">\n    <BCard class=\"divBox\">\n      <!-- 제목 -->\n      <div style=\"height: 20px; text-align: center\">\n        <input v-model=\"openDocumentContent.title\" type=\"text\" style=\"width: 90%; height: 100%; border: none; background-color: white\" disabled>\n        <hr style=\"margin-top: 5px\"/>\n      </div>\n      <!-- 형식 -->\n      <div style=\"display: inline-flex; margin-top: 30px\">\n        <h5 style=\"width: 60px;\">형식 :</h5>\n        <b-form-input v-model=\"openDocumentContent.typeName\" required style=\"height: 30px; width: 60px; background-color: white\" disabled/>\n      </div>\n      <div style=\"display: inline-flex; margin-top: 30px\">\n        <h5 style=\"width: 60px;\">이름 :</h5>\n        <b-form-input v-model=\"openDocumentContent.empName\" required style=\"height: 30px; width: 70px; background-color: white\" disabled/>\n      </div>\n      <div style=\"display: inline-flex; margin-top: 30px\">\n        <h5 style=\"width: 80px;\">문서번호 :</h5>\n        <b-form-input v-model=\"openDocumentContent.documentNumber\" required style=\"height: 30px; width: 120px; background-color: white\" disabled/>\n      </div>\n      <!-- 텍스트 박스 -->\n      <body>\n        <textarea v-model=\"openDocumentContent.content\" style=\"width: 100%; height: 200px; margin-top: 10px; background-color: white\" disabled></textarea>\n      </body>\n      <!-- 의견 박스 -->\n      <div :style=\"opinionStyle\">\n        <b-form-textarea\n            ref=\"opinion\"\n            v-model=\"opinion\"\n            placeholder=\"의견을 입력해 주세요...\"\n            rows=\"3\"\n            max-rows=\"6\"\n        />\n      </div>\n      <div>\n        <b-button style=\"margin-left: 190px\" variant=\"outline-info\" @click=\"opinionDiv\">의견 달기</b-button>\n        <b-button variant=\"success\" @click=\"approval($event)\" value=\"ST03\">승인</b-button>\n        <b-button variant=\"danger\" @click=\"approval($event)\" value=\"ST04\">반려</b-button>\n        <b-button variant=\"primary\" @click=\"$router.go(-1)\">뒤로가기</b-button>\n      </div>\n    </Bcard>\n    <BCard class=\"divBox\" style=\"float:right; margin-top:0;height: 370px; width: 500px\">\n      <h4>결재 상태</h4>\n      <div style=\"border-radius: 10px; border: 1px solid black; height: 300px; overflow-y: auto\">\n        <div style=\"height: 30px; border-bottom: 1px solid black; display: flex\" v-for=\"(item, index) in openDocumentContent.executives\" :key=\"index\">\n          <div style=\"width: 10%; text-align: center; border-right: 1px solid black\">{{ index }}</div>\n          <div style=\"width: 35%\">부서 : {{ item.deptName }}</div>\n          <div style=\"width: 25%\">직급 : {{ item.positionName }}</div>\n          <div style=\"width: 30%\">이름 : {{ item.empName }}</div>\n          <div style=\"width: 30%\">결재 : {{ isApproval(item.sequence) }}</div>\n        </div>\n      </div>\n    </BCard>\n\n  </div>\n</template>\n<script>\n  import { mapState } from \"vuex\";\n  import router from \"@/router\";\n\n  export default {\n      computed:{\n        ...mapState({\n          openDocumentContent : state => state.hr.approval.documentInfo,\n          empData : state => state.hr.emp.empData,\n        })\n      },\n      data(){\n        return {\n          executive : [],\n          isSpread  : false,\n          isOpinionOpen : false,\n          opinion   : '',\n          opinionStyle : {\n            'overflow-y' :'auto',\n            'height' : '0px',\n            'transition' : 'all ease-in-out 0.5s'\n          }\n        }\n      },\n      methods:{\n        showMe(){\n          console.log(this.openDocumentContent)\n        },\n        approval(e){\n          const status = e.target.value\n          let approvalData = [];\n\n          approvalData = approvalData.concat({\n            documentNumber: this.openDocumentContent.documentNumber,\n            empNumber : this.empData.empNumber,\n            status,\n            total: this.openDocumentContent.total,\n            opinion: this.opinion,\n            sequence: this.openDocumentContent.sequence\n          })\n          console.log(approvalData)\n          this.$store.dispatch('hr/approval/approvalSign', approvalData)\n\n          let msg = ''\n          if(status === 'ST03') msg = '승인'\n          if(status === 'ST04') msg = '반려'\n          this.$swal.fire({\n            icon: 'success',\n            title: `${msg}하였습니다.`,\n            text: '이전 페이지로 돌아갑니다',\n            confirmButtonText: '돌아가기',\n          }).then(() => ( router.go(-1) ))\n        },\n        setDate() {\n          const date = new Date()\n          const year = date.getFullYear()\n          const month = date.getMonth()+1\n          const day = date.getDay()\n          return `${year}${('00'+month).slice(-2)}${('00'+day).slice(-2)}`\n        },\n        isApproval(sequence){\n          let isApproval = ''\n          if(this.openDocumentContent.sequence > sequence){\n            isApproval = '승인'\n          } else {\n            isApproval = '대기'\n          }\n          return isApproval\n        },\n        opinionDiv(){\n          if(this.isOpinionOpen){\n          this.opinionStyle.height = '0'\n            this.isOpinionOpen = false\n          }else{\n            this.opinionStyle.height = '100px'\n            this.isOpinionOpen = true\n          }\n        },\n      }\n    }\n</script>\n<style>\n  .divBox{\n    width: 500px;\n    height: auto;\n    box-shadow: rgba(0,0,0,0.3) 0px 4px 20px 0px;\n    border-radius: 15px;\n    margin: auto\n  }\n</style>"]}]}