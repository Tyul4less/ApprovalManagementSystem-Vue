{"remainingRequest":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/src/views/hr/approval/MyDocumentInfo.vue?vue&type=style&index=0&id=cc8b4994&lang=css","dependencies":[{"path":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/src/views/hr/approval/MyDocumentInfo.vue","mtime":1653371737552},{"path":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/node_modules/css-loader/dist/cjs.js","mtime":1652081429906},{"path":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1652081430080},{"path":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/node_modules/postcss-loader/src/index.js","mtime":1652081430025},{"path":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/node_modules/cache-loader/dist/cjs.js","mtime":1652081426314},{"path":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/node_modules/vue-loader-v16/dist/index.js","mtime":1652081430080}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgLmV4ZWN1dGl2ZUxpc3R7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICBtaW4taGVpZ2h0OiA1MHB4OwogIH0K"},{"version":3,"sources":["/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/src/views/hr/approval/MyDocumentInfo.vue"],"names":[],"mappings":";EAiME,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAClB","file":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/src/views/hr/approval/MyDocumentInfo.vue","sourceRoot":"","sourcesContent":["<template >\n  <div style=\"width:1000px; height: auto; margin: 10% auto;\">\n    <BCard style=\"width: 1000px; height: auto;  box-shadow: rgba(0,0,0,0.3) 0px 4px 20px 0px; border-radius: 15px;\">\n      <div style=\"width: 500px; height: 500px; border-right: 1px solid rgba(116, 116, 116, 0.5); padding-right: 8px; float: left\">\n        <!-- 제목 -->\n        <div style=\"height: 20px; text-align: center\">\n          <input v-model=\"documentContent.title\" type=\"text\" style=\"width: 90%; height: 100%; border: none; background-color: white\" :disabled=\"disabled\">\n          <hr style=\"margin-top: 5px\"/>\n        </div>\n\n        <!-- 형식 -->\n        <div style=\"display: inline-flex; margin-top: 30px\">\n          <h5 style=\"width: 60px;\">형식 :</h5>\n          <b-form-input v-model=\"documentContent.typeName\" required style=\"height: 30px; width: 80px;\" disabled/>\n        </div>\n\n        <!-- 컨텐츠 -->\n        <body>\n          <b-form-textarea\n              id=\"textarea\"\n              v-model=\"documentContent.content\"\n              rows=\"3\"\n              max-rows=\"6\"\n              style=\"width: 100%; height: 200px; margin-top: 10px; background-color: white\"\n              :disabled=\"disabled\"\n          />\n          <!-- 의견 -->\n          <b-form-textarea\n              id=\"textarea\"\n              v-model=\"opinion\"\n              rows=\"3\"\n              max-rows=\"6\"\n              style=\"width: 100%; height: 200px; margin-top: 10px; background-color: white\"\n              disabled\n          />\n        </body>\n\n\n      </div>\n      <!-- 우측 -->\n      <div style=\"float: right; width: 460px;\">\n        <!-- 임직원 목록 -->\n        <div class=\"executiveList\">\n          <p style=\"font-size: 15px; width: 100%; margin:0\">현재 서류 상태<tempate style=\"color:hotpink\">(임직원을 클릭하시면 의견을 볼 수 있습니다.)</tempate></p>\n          <div style=\"display: inline-flex; margin: 0 5px 0 5px; width: 100%;\"\n               v-for=\"(item, index) in documentContent.executives\"\n               :key=\"index\"\n          >\n            <div @click=\"this.opinion=this.documentContent.executives[index].opinion\">\n              <b-input-group :prepend=\"index+1\" style=\"width: 800px;\">\n                <input type=\"text\" :value=\"'부서 : '+item.deptName\" disabled style=\"background-color: white; width: 130px; border-right: none\"/>\n                <input type=\"text\" :value=\"'직급 : '+item.positionName\" disabled style=\"background-color: white; width: 80px; border-left: none; border-right: none\"/>\n                <input type=\"text\" :value=\"'이름 : '+item.empName\" disabled style=\"background-color: white; width: 100px; border-left: none; border-right: none\"/>\n                <input type=\"text\" :value=\"'상태 : '+item.statusName\" disabled :style=\"setStatusStyle(item.status, item.empNumber)\"/>\n              </b-input-group>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div style=\"margin-top: 5px; width: 100%; display: inline-flex; float: right; height: 30px\">\n        <div style=\"width: 100%\">\n          <div v-if=\"this.documentContent.status === 'ST03'\"\n               style=\"margin: 8px; font-size: 15px; color: blue; font-weight: bold; width: 480px;\">\n            문서가 승인 되었습니다.\n          </div>\n          <div v-if=\"this.documentContent.status === 'ST04'\"\n               style=\"margin: 8px; font-size: 15px; color: red; font-weight: bold; width: 480px;\">\n            문서가 반려되었습니다. 수정해서 다시 제출하시거나 취하하여 주시기 바랍니다.\n          </div>\n          <div style=\"display: flex; float : right; margin-top: -40px\">\n            <b-button style=\"margin-right: 5px\" variant=\"danger\" @click=\"documentDrop\" value=\"승인\">취하</b-button>\n            <b-button style=\"margin-right: 5px\" variant=\"warning\" @click=\"documentEdit\" value=\"승인\" v-if=\"this.documentContent.status === 'ST04'\">수정</b-button>\n            <b-button style=\"margin-right: 5px\" variant=\"success\" @click=\"editDocumentContent\" v-show=\"!disabled\">다시제출</b-button>\n            <b-button style=\"margin-right: 5px\" variant=\"primary\" @click=\"$router.go(-1)\">뒤로가기</b-button>\n          </div>\n        </div>\n      </div>\n    </Bcard>\n\n  </div>\n</template>\n<script>\n  import { mapState } from \"vuex\";\n  import router from \"@/router\";\n  import _ from 'lodash'\n\n  export default {\n      mounted(){\n\n      },\n      computed:{\n        ...mapState({\n          empData : state => state.hr.emp.empData,\n          myDocumentInfo : state => state.hr.approval.documentInfo,\n        })\n      },\n      data(){\n        return {\n          documentContent:[{\n            title:'',\n            typeName:'',\n            content:'',\n          }],\n          executive:[],\n          opinion:'',\n          editMode:false,\n          disabled:true,\n          returnExecutive: 0,\n        }\n      },\n    created() {\n      this.documentContent = _.clone(this.myDocumentInfo)\n    },\n    methods:{\n      showMe(){\n        console.log(this.myDocumentInfo)\n        console.log(this.documentContent)\n      },\n        documentDrop(){\n          this.$swal.fire({\n            icon:'question',\n            title: '취하하시겠습니까?',\n            showCancelButton: true,\n            confirmButtonText: '취하하기',\n            cancelButtonText: '취소',\n          }).then((result) => {\n            if (result.isConfirmed) {\n              this.$store.dispatch('hr/approval/documentDrop', this.myDocumentInfo.documentNumber)\n              this.$swal.fire({\n                icon:'success',\n                title: '완료!',\n                confirmButtonText: '돌아가기',\n              }).then((result) => {\n                if (result.isConfirmed) {\n                  router.push({name: 'DocumentList'})\n                }\n              })\n            }\n          })\n        },\n        createExecutiveValue(deptName, positionName){\n          console.log('작동안함?')\n          return `부서 : ${deptName} 직급 : ${positionName}`\n        },\n        setStatusStyle(status, executiveNumber){\n          let statusStyle = {\n            'background-color': 'white',\n            'width': '100px',\n            'border-left': 'none',\n            'color' : 'blue'\n          }\n          if(status === 'ST03') { statusStyle.color = 'blue'}\n          if(status === 'ST04') {\n            statusStyle.color = 'red'\n            this.returnExecutive = executiveNumber\n          }\n          if(status === 'ST01') { statusStyle.color = 'black'}\n          return statusStyle\n        },\n        documentEdit(){\n          if(this.editMode && this.myDocumentInfo.status === 'ST04'){\n            this.$swal.fire({\n              title: '작성을 취소하시겠습니까?',\n              text: '취소시 작성전 상태로 되돌아갑니다.',\n              showCancelButton: true,\n              confirmButtonText: '작성 취소',\n              cancelButtonText: '닫기',\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.editMode = false\n                this.disabled = true\n                this.documentContent = _.clone(this.myDocumentInfo)\n              }\n            })\n          }else{\n            this.editMode = true\n            this.disabled = false\n          }\n        },\n        editDocumentContent(){\n          this.$store.dispatch('hr/approval/editDocumentContent', {\n            documentNumber: this.documentContent.documentNumber,\n            title: this.documentContent.title,\n            content: this.documentContent.content,\n            executives: [{empNumber : this.returnExecutive}]\n          }).then(() => {\n            this.$router.push({ name : 'DocumentList' })\n          })\n        }\n      }\n    }\n</script>\n<style>\n  .executiveList{\n    border-radius: 5px;\n    min-height: 50px;\n  }\n</style>"]}]}