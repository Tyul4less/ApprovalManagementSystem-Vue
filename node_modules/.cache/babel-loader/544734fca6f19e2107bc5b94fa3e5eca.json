{"remainingRequest":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/node_modules/babel-loader/lib/index.js!/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/src/views/hr/approval/ExecutiveDocumentApproval.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/src/views/hr/approval/ExecutiveDocumentApproval.vue","mtime":1653031113563},{"path":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/babel.config.js","mtime":1649054698000},{"path":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/node_modules/cache-loader/dist/cjs.js","mtime":1652081426314},{"path":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/node_modules/babel-loader/lib/index.js","mtime":1652081426294},{"path":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/node_modules/cache-loader/dist/cjs.js","mtime":1652081426314},{"path":"/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/node_modules/vue-loader-v16/dist/index.js","mtime":1652081430080}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2d3b25kYWV3b24vV29ya3NwYWNlL0FwcHJvdmFsTWFuYWdlbWVudFN5c3RlbS9WdWVQcm9qZWN0QmFzZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHJvdXRlciBmcm9tICJAL3JvdXRlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgb3BlbkRvY3VtZW50Q29udGVudDogZnVuY3Rpb24gb3BlbkRvY3VtZW50Q29udGVudChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuaHIuYXBwcm92YWwuZG9jdW1lbnRJbmZvOwogICAgfSwKICAgIGVtcERhdGE6IGZ1bmN0aW9uIGVtcERhdGEoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmhyLmVtcC5lbXBEYXRhOwogICAgfQogIH0pKSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZXhlY3V0aXZlOiBbXSwKICAgICAgaXNTcHJlYWQ6IGZhbHNlLAogICAgICBpc09waW5pb25PcGVuOiBmYWxzZSwKICAgICAgb3BpbmlvbjogJycsCiAgICAgIG9waW5pb25TdHlsZTogewogICAgICAgICdvdmVyZmxvdy15JzogJ2F1dG8nLAogICAgICAgICdoZWlnaHQnOiAnMHB4JywKICAgICAgICAndHJhbnNpdGlvbic6ICdhbGwgZWFzZS1pbi1vdXQgMC41cycKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNob3dNZTogZnVuY3Rpb24gc2hvd01lKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLm9wZW5Eb2N1bWVudENvbnRlbnQpOwogICAgfSwKICAgIGFwcHJvdmFsOiBmdW5jdGlvbiBhcHByb3ZhbChlKSB7CiAgICAgIHZhciBzdGF0dXMgPSBlLnRhcmdldC52YWx1ZTsKICAgICAgdmFyIGFwcHJvdmFsRGF0YSA9IFtdOwogICAgICBhcHByb3ZhbERhdGEgPSBhcHByb3ZhbERhdGEuY29uY2F0KHsKICAgICAgICBkb2N1bWVudE51bWJlcjogdGhpcy5vcGVuRG9jdW1lbnRDb250ZW50LmRvY3VtZW50TnVtYmVyLAogICAgICAgIGVtcE51bWJlcjogdGhpcy5lbXBEYXRhLmVtcE51bWJlciwKICAgICAgICBzdGF0dXM6IHN0YXR1cywKICAgICAgICB0b3RhbDogdGhpcy5vcGVuRG9jdW1lbnRDb250ZW50LnRvdGFsLAogICAgICAgIG9waW5pb246IHRoaXMub3BpbmlvbiwKICAgICAgICBzZXF1ZW5jZTogdGhpcy5vcGVuRG9jdW1lbnRDb250ZW50LnNlcXVlbmNlCiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZyhhcHByb3ZhbERhdGEpOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnaHIvYXBwcm92YWwvYXBwcm92YWxTaWduJywgYXBwcm92YWxEYXRhKTsKICAgICAgdmFyIG1zZyA9ICcnOwogICAgICBpZiAoc3RhdHVzID09PSAnU1QwMycpIG1zZyA9ICfsirnsnbgnOwogICAgICBpZiAoc3RhdHVzID09PSAnU1QwNCcpIG1zZyA9ICfrsJjroKQnOwogICAgICB0aGlzLiRzd2FsLmZpcmUoewogICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICB0aXRsZTogIiIuY29uY2F0KG1zZywgIlx1RDU1OFx1QzYwMFx1QzJCNVx1QjJDOFx1QjJFNC4iKSwKICAgICAgICB0ZXh0OiAn7J207KCEIO2OmOydtOyngOuhnCDrj4zslYTqsJHri4jri6QnLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn64+M7JWE6rCA6riwJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gcm91dGVyLmdvKC0xKTsKICAgICAgfSk7CiAgICB9LAogICAgc2V0RGF0ZTogZnVuY3Rpb24gc2V0RGF0ZSgpIHsKICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTsKICAgICAgdmFyIG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMTsKICAgICAgdmFyIGRheSA9IGRhdGUuZ2V0RGF5KCk7CiAgICAgIHJldHVybiAiIi5jb25jYXQoeWVhcikuY29uY2F0KCgnMDAnICsgbW9udGgpLnNsaWNlKC0yKSkuY29uY2F0KCgnMDAnICsgZGF5KS5zbGljZSgtMikpOwogICAgfSwKICAgIGlzQXBwcm92YWw6IGZ1bmN0aW9uIGlzQXBwcm92YWwoc2VxdWVuY2UpIHsKICAgICAgdmFyIGlzQXBwcm92YWwgPSAnJzsKCiAgICAgIGlmICh0aGlzLm9wZW5Eb2N1bWVudENvbnRlbnQuc2VxdWVuY2UgPiBzZXF1ZW5jZSkgewogICAgICAgIGlzQXBwcm92YWwgPSAn7Iq57J24JzsKICAgICAgfSBlbHNlIHsKICAgICAgICBpc0FwcHJvdmFsID0gJ+uMgOq4sCc7CiAgICAgIH0KCiAgICAgIHJldHVybiBpc0FwcHJvdmFsOwogICAgfSwKICAgIG9waW5pb25EaXY6IGZ1bmN0aW9uIG9waW5pb25EaXYoKSB7CiAgICAgIGlmICh0aGlzLmlzT3Bpbmlvbk9wZW4pIHsKICAgICAgICB0aGlzLm9waW5pb25TdHlsZS5oZWlnaHQgPSAnMCc7CiAgICAgICAgdGhpcy5pc09waW5pb25PcGVuID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5vcGluaW9uU3R5bGUuaGVpZ2h0ID0gJzEwMHB4JzsKICAgICAgICB0aGlzLmlzT3Bpbmlvbk9wZW4gPSB0cnVlOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["mapState","router","computed","openDocumentContent","state","hr","approval","documentInfo","empData","emp","data","executive","isSpread","isOpinionOpen","opinion","opinionStyle","methods","showMe","console","log","e","status","target","value","approvalData","concat","documentNumber","empNumber","total","sequence","$store","dispatch","msg","$swal","fire","icon","title","text","confirmButtonText","then","go","setDate","date","Date","year","getFullYear","month","getMonth","day","getDay","slice","isApproval","opinionDiv","height"],"sourceRoot":"","sources":["/Users/gwondaewon/Workspace/ApprovalManagementSystem/VueProjectBase/src/views/hr/approval/ExecutiveDocumentApproval.vue"],"sourcesContent":["<template >\n  <div style=\"width:1050px; height: auto; margin: 10% auto; display:flex\">\n    <BCard class=\"divBox\">\n      <!-- 제목 -->\n      <div style=\"height: 20px; text-align: center\">\n        <input v-model=\"openDocumentContent.title\" type=\"text\" style=\"width: 90%; height: 100%; border: none; background-color: white\" disabled>\n        <hr style=\"margin-top: 5px\"/>\n      </div>\n      <!-- 형식 -->\n      <div style=\"display: inline-flex; margin-top: 30px\">\n        <h5 style=\"width: 60px;\">형식 :</h5>\n        <b-form-input v-model=\"openDocumentContent.typeName\" required style=\"height: 30px; width: 60px; background-color: white\" disabled/>\n      </div>\n      <div style=\"display: inline-flex; margin-top: 30px\">\n        <h5 style=\"width: 60px;\">이름 :</h5>\n        <b-form-input v-model=\"openDocumentContent.empName\" required style=\"height: 30px; width: 70px; background-color: white\" disabled/>\n      </div>\n      <div style=\"display: inline-flex; margin-top: 30px\">\n        <h5 style=\"width: 80px;\">문서번호 :</h5>\n        <b-form-input v-model=\"openDocumentContent.documentNumber\" required style=\"height: 30px; width: 120px; background-color: white\" disabled/>\n      </div>\n      <!-- 텍스트 박스 -->\n      <body>\n        <textarea v-model=\"openDocumentContent.content\" style=\"width: 100%; height: 200px; margin-top: 10px; background-color: white\" disabled></textarea>\n      </body>\n      <!-- 의견 박스 -->\n      <div :style=\"opinionStyle\">\n        <b-form-textarea\n            ref=\"opinion\"\n            v-model=\"opinion\"\n            placeholder=\"의견을 입력해 주세요...\"\n            rows=\"3\"\n            max-rows=\"6\"\n        />\n      </div>\n      <div>\n        <b-button style=\"margin-left: 190px\" variant=\"outline-info\" @click=\"opinionDiv\">의견 달기</b-button>\n        <b-button variant=\"success\" @click=\"approval($event)\" value=\"ST03\">승인</b-button>\n        <b-button variant=\"danger\" @click=\"approval($event)\" value=\"ST04\">반려</b-button>\n        <b-button variant=\"primary\" @click=\"$router.go(-1)\">뒤로가기</b-button>\n      </div>\n    </Bcard>\n    <BCard class=\"divBox\" style=\"float:right; margin-top:0;height: 370px; width: 500px\">\n      <h4>결재 상태</h4>\n      <div style=\"border-radius: 10px; border: 1px solid black; height: 300px; overflow-y: auto\">\n        <div style=\"height: 30px; border-bottom: 1px solid black; display: flex\" v-for=\"(item, index) in openDocumentContent.executives\" :key=\"index\">\n          <div style=\"width: 10%; text-align: center; border-right: 1px solid black\">{{ index }}</div>\n          <div style=\"width: 35%\">부서 : {{ item.deptName }}</div>\n          <div style=\"width: 25%\">직급 : {{ item.positionName }}</div>\n          <div style=\"width: 30%\">이름 : {{ item.empName }}</div>\n          <div style=\"width: 30%\">결재 : {{ isApproval(item.sequence) }}</div>\n        </div>\n      </div>\n    </BCard>\n\n  </div>\n</template>\n<script>\n  import { mapState } from \"vuex\";\n  import router from \"@/router\";\n\n  export default {\n      computed:{\n        ...mapState({\n          openDocumentContent : state => state.hr.approval.documentInfo,\n          empData : state => state.hr.emp.empData,\n        })\n      },\n      data(){\n        return {\n          executive : [],\n          isSpread  : false,\n          isOpinionOpen : false,\n          opinion   : '',\n          opinionStyle : {\n            'overflow-y' :'auto',\n            'height' : '0px',\n            'transition' : 'all ease-in-out 0.5s'\n          }\n        }\n      },\n      methods:{\n        showMe(){\n          console.log(this.openDocumentContent)\n        },\n        approval(e){\n          const status = e.target.value\n          let approvalData = [];\n\n          approvalData = approvalData.concat({\n            documentNumber: this.openDocumentContent.documentNumber,\n            empNumber : this.empData.empNumber,\n            status,\n            total: this.openDocumentContent.total,\n            opinion: this.opinion,\n            sequence: this.openDocumentContent.sequence\n          })\n          console.log(approvalData)\n          this.$store.dispatch('hr/approval/approvalSign', approvalData)\n\n          let msg = ''\n          if(status === 'ST03') msg = '승인'\n          if(status === 'ST04') msg = '반려'\n          this.$swal.fire({\n            icon: 'success',\n            title: `${msg}하였습니다.`,\n            text: '이전 페이지로 돌아갑니다',\n            confirmButtonText: '돌아가기',\n          }).then(() => ( router.go(-1) ))\n        },\n        setDate() {\n          const date = new Date()\n          const year = date.getFullYear()\n          const month = date.getMonth()+1\n          const day = date.getDay()\n          return `${year}${('00'+month).slice(-2)}${('00'+day).slice(-2)}`\n        },\n        isApproval(sequence){\n          let isApproval = ''\n          if(this.openDocumentContent.sequence > sequence){\n            isApproval = '승인'\n          } else {\n            isApproval = '대기'\n          }\n          return isApproval\n        },\n        opinionDiv(){\n          if(this.isOpinionOpen){\n          this.opinionStyle.height = '0'\n            this.isOpinionOpen = false\n          }else{\n            this.opinionStyle.height = '100px'\n            this.isOpinionOpen = true\n          }\n        },\n      }\n    }\n</script>\n<style>\n  .divBox{\n    width: 500px;\n    height: auto;\n    box-shadow: rgba(0,0,0,0.3) 0px 4px 20px 0px;\n    border-radius: 15px;\n    margin: auto\n  }\n</style>"]}]}